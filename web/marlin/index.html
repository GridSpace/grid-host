<html>
    <head>
        <title>marlin control</title>
        <script src="moment.js"></script>
        <script src="index.js"></script>
        <link rel="stylesheet" type="text/css" href="index.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body onload="init()" class="col">
        <div id="header" class="row align_center">
            <input id="state" class="grow" cols=20 disabled />
            <span class="ten"></span>
            <label>X</label>
            <input id="xpos" value="" size="5" disabled="true"></input>
            <label>Y</label>
            <input id="ypos" value="" size="5" disabled="true"></input>
            <label>Z</label>
            <input id="zpos" value="" size="5" disabled="true"></input>
            <label>E</label>
            <input id="epos" value="" size="5" disabled="true"></input>
            <span class="ten"></span>
            <label>ext</label>
            <input id="nozzle_temp" size="4" disabled="true"></input>
            <label>bed</label>
            <input id="bed_temp" size="4" disabled="true"></input>
            <span class="ten"></span>
            <button id="b-ctrl">control</button>
            <button id="b-cmd">command</button>
        </div>
        <div id="t-ctrl" class="tile row grow shrink">
            <div class="col panel justify_center over-y shrink no-lm">
                <span class="grow"></span>
                <div class="label-group col align_center">
                    <label>eeprom</label>
                    <div class="col">
                        <button onclick="eeprom_save()">save</button>
                        <button onclick="eeprom_restore()">restore</button>
                    </div>
                </div>
                <div class="label-group col align_center">
                    <label>control</label>
                    <div class="col">
                        <button onclick="firmware_update()">reflash</button>
                        <button onclick="controller_update()">restart</button>
                    </div>
                </div>
                <div id="actions" class="label-group col justify_center align_center">
                    <label>system</label>
                    <div class="col">
                        <button id="reload" onclick="reload()">reload</button>
                        <button id="reboot" onclick="reboot()">reboot</button>
                        <button id="shutdown" onclick="shutdown()">shutdown</button>
                    </div>
                </div>
                <span class="grow"></span>
            </div>
            <div class="col grow">
                <div id="pos" class="row">
                    <div class="row panel">
                        <div class="col">
                            <button id="clear_bed" onclick="clear_bed()">clear bed</button>
                            <button onclick="print_next()">print next</button>
                            <button onclick="disable_motors()">disable motors</button>
                        </div>
                    </div>
                    <div class="row panel">
                        <div id="jog_set" class="row align_center justify_center">
                            <div class="col">
                                <button id="j01" onclick="set_jog(0.1,this)">0.1</button>
                                <button id="j05" onclick="set_jog(0.5,this)">0.5</button>
                                <button id="j10" onclick="set_jog(1.0,this)">1.0</button>
                            </div>
                            <div class="col">
                                <button id="j20" onclick="set_jog(2.0,this)">2</button>
                                <button id="j50" onclick="set_jog(5.0,this)">5</button>
                                <button id="j100" onclick="set_jog(10.0,this)">10</button>
                            </div>
                        </div>
                    </div>
                    <div class="row panel">
                        <table>
                            <tr>
                                <td><button onclick="jog('Z',-1)">Z-</button></td>
                                <td><button onclick="jog('Y',-1)">Y-</button></td>
                                <td><button onclick="retract()">E-</button></td>
                            </tr>
                            <tr>
                                <td><button onclick="jog('X',-1)">X-</button></td>
                                <td><button onclick="goto_home()" class="fa fa-home"></button></td>
                                <td><button onclick="jog('X',1)">X+</button></td>
                            </tr>
                            <tr>
                                <td><button onclick="jog('Z',1)">Z+</button></td>
                                <td><button onclick="jog('Y',1)">Y+</button></td>
                                <td><button onclick="extrude()">E+</button></td>
                            </tr>
                        </table>
                    </div>
                    <div class="row panel grow">
                        <div class="col">
                            <div class="row">
                                <button class="grow row-button" id="go_zero">O Go</button>
                                <div class="five"></div>
                                <button class="grow row-button" onclick="off_set()">O Set</button>
                            </div>
                            <div class="row">
                                <button class="grow row-button" onclick="filament_unload()">unload</button>
                                <div class="five"></div>
                                <button class="grow row-button" onclick="filament_load()">load</button>
                            </div>
                            <button onclick="stop_motors()">(un)load done</button>
                        </div>
                    </div>
                </div>
                <div id="files" class="panel">
                    <label>files</label>
                </div>
                <div class="col panel label-group over-y grow shrink">
                    <div id="file-list" class="col shrink"></div>
                </div>
            </div>
            <div class="col over-y">
                <div class="col panel no-rm">
                    <div class="col label-group">
                        <label>set bed temp</label>
                        <div class="row align_center justify_center">
                            <button class="dn" onclick="bed_temp_lower()">&lt;</button>
                            <input id="bed" value="" size="5" class="editable grow"></input>
                            <button class="up" onclick="bed_temp_higher()">&gt;</button>
                            <button class="up" id="bed_toggle" onclick="bed_toggle()">on</button>
                        </div>
                    </div>
                    <div class="col label-group">
                        <label>set extruder temp</label>
                        <div class="row align_center justify_center">
                            <button class="dn"  onclick="nozzle_temp_lower()">&lt;</button>
                            <input id="nozzle" value="" size="5" class="editable grow"></input>
                            <button class="up" onclick="nozzle_temp_higher()">&gt;</button>
                            <button class="up" id="nozzle_toggle" onclick="nozzle_toggle()">on</button>
                        </div>
                    </div>
                </div>
                <div id="keypad" class="col panel">
                    <div class="row">
                        <button id="kp-1">1</button>
                        <button id="kp-2">2</button>
                        <button id="kp-3">3</button><br>
                    </div>
                    <div class="row">
                        <button id="kp-4">4</button>
                        <button id="kp-5">5</button>
                        <button id="kp-6">6</button><br>
                    </div>
                    <div class="row">
                        <button id="kp-7">7</button>
                        <button id="kp-8">8</button>
                        <button id="kp-9">9</button><br>
                    </div>
                    <div class="row">
                        <button id="kp-ok">ok</button>
                        <button id="kp-0">0</button>
                        <button id="kp-bs">&larr;</button>
                    </div>
                </div>
                <div class="col panel label-group grow">
                    <label>manual update</label>
                    <button onclick="update_endstops()">endstop status</button>
                    <button onclick="update_position()">position status</button>
                    <button onclick="update_temps()">temps status</button>
                    <label>M303</label>
                    <button onclick="calibrate_pid()">calibrate nozzle pid</button>
                </div>
            </div>
        </div>
        <div id="t-cmd" class="tile col grow shrink">
            <div id="sender" class="row panel no-lm no-rm">
                <button id="send">send</button>
                <div class="five"></div>
                <input id="command" size="10" class="editable"></input>
                <div class="five"></div>
                <button id="clear">clear</button>
            </div>
            <div id="log" class="panel shrink grow no-lm no-rm"></div>
        </div>
        <div id="footer" class="row align_center">
            <label>file</label>
            <input id="filename" disabled="true" class="grow"></input>
            <label>progress</label>
            <input id="progress" disabled="true" size="6" class="text-center"></input>
            <label>elapsed</label>
            <input id="elapsed" disabled="true" size="10" class="text-center"></input>
            <span class="ten"></span>
            <button id="pause" onclick="pause()">||</button>
            <button id="resume" onclick="resume()">&gt;</button>
            <button id="abort" onclick="abort()">abort</button>
        </div>
    </body>
</html>
